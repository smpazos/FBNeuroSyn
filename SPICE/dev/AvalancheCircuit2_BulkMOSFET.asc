Version 4
SHEET 1 2588 680
WIRE 704 32 512 32
WIRE 800 32 704 32
WIRE 704 48 704 32
WIRE 800 48 800 32
WIRE 832 48 800 48
WIRE 960 48 912 48
WIRE 1024 48 960 48
WIRE 512 64 512 32
WIRE 800 64 800 48
WIRE 1024 80 1024 48
WIRE 640 112 512 112
WIRE 704 112 640 112
WIRE 736 112 704 112
WIRE 752 112 736 112
WIRE 320 144 208 144
WIRE 464 144 320 144
WIRE 512 192 512 160
WIRE 800 192 800 160
WIRE 800 192 512 192
WIRE 1024 192 912 192
WIRE 640 208 640 112
WIRE 800 224 800 192
WIRE 320 256 320 208
WIRE 800 272 800 224
WIRE 592 288 432 288
WIRE 432 320 432 288
WIRE 640 352 640 304
FLAG 208 224 0
FLAG 800 352 0
FLAG 640 112 B
FLAG 960 48 Vpulse
FLAG 1024 272 0
FLAG 912 272 0
FLAG 1024 160 0
FLAG 800 224 S
FLAG 800 48 D
FLAG 640 352 0
FLAG 432 400 0
FLAG 320 256 B
SYMBOL voltage 208 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -58 25 Left 2
WINDOW 3 -68 89 Left 2
SYMATTR InstName V1
SYMATTR Value 'Vg'
SYMBOL voltage 1024 64 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.5 'tr' 'tr' 'tr' 1e-6 'tr*10' 10)
SYMATTR InstName V2
SYMBOL npn 736 64 R0
SYMATTR InstName Q1
SYMATTR Value avalBJT
SYMATTR Value2 area=0.1
SYMBOL res 784 256 R0
SYMATTR InstName R3
SYMATTR Value 1
SYMBOL res 928 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL voltage 1024 176 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 'Vd'
SYMATTR InstName V3
SYMBOL res 896 176 R0
SYMATTR InstName R1
SYMATTR Value 1T
SYMBOL zener 336 208 R180
WINDOW 0 33 29 Left 2
WINDOW 3 -140 35 Left 2
SYMATTR InstName D1
SYMATTR Value avalancheD
SYMBOL zener 720 112 R180
WINDOW 0 -25 78 Left 2
WINDOW 3 -21 106 Left 2
SYMATTR InstName D2
SYMATTR Value avalancheD
SYMATTR SpiceLine area=0.01
SYMBOL nmos 592 208 R0
SYMATTR InstName M1
SYMATTR Value BSS145
SYMBOL voltage 432 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 'Vgb'
SYMBOL nmos4 464 64 R0
SYMATTR InstName M2
SYMATTR Value2 l='Ln' w='Wn' m=10
TEXT 176 -200 Left 2 !.lib "PTM130bulk_lite.txt"
TEXT 176 -72 Left 2 !.tran 0 {40*tr} {tr} {tr/10000}\n*.op
TEXT 176 -16 Left 2 !.param Ln=0.25u\n.param Wn=10u
TEXT 1128 144 Left 2 !*.step param Vd 0.1 4 0.01\n.param tr=0.001\n*.step param Vg list 0.2 0.3\n.step param Vg list 0.25 0.45\n*.step param tr list 0.001 0.01 0.1\n.param Cbe 1p\n*.step param Rbody list 1Meg 1G 4G 10G\n*.param nbvPar 1.5 \n.param Vd 1\n.param Vgb 2.65\n.param bvzener 2.45
TEXT 176 -168 Left 2 !.lib "Davalanche.txt"
TEXT 176 -104 Left 2 !.inc "BJTparams.txt"
TEXT 176 -136 Left 2 !.lib "BJTavalanche.txt"
TEXT 1136 -48 Left 2 !*.ic V(B)=0\n*.option cshunt=1e-12 reltol=0.003 abstol=1e-10 gmin=1e-10
